#include <iostream>
#include <vector>
using namespace std;
int main() {
    int students, courses;
    cout << "Enter number of students: ";
    cin >> students;
    cout << "Enter number of courses: ";
    cin >> courses;
    vector< vector<int> > marks(students, vector<int>(courses));
    for (int i = 0; i < students; i++) {
        for (int j = 0; j < courses; j++) {
            cout << "Enter marks obtained by  Student " << (i + 1) << "in Course " << (j + 1) << ": ";
            cin >> marks[i][j];
        }
    }
    cout << "\nMarks Matrix:\n";
    for (int i = 0; i < students; i++) {
        for (int j = 0; j < courses; j++) {
            cout << marks[i][j] << " ";
        }
        cout << "\n";
    }
    vector< vector<int> > sparse;
    vector<int> meta(3);
    meta[0] = students;
    meta[1] = courses;
    meta[2] = 0; 
    sparse.push_back(meta);
    for (int i = 0; i < students; i++) {
        for (int j = 0; j < courses; j++) {
            if (marks[i][j] != 0) {
                vector<int> entry(3);
                entry[0] = i;
                entry[1] = j;
                entry[2] = marks[i][j];
                sparse.push_back(entry);
            }
        }
    }
    sparse[0][2] = (int)sparse.size() - 1;
    cout << "\nSparse Matrix (Row, Column, Value):\n";
    for (int i = 0; i < (int)sparse.size(); i++) {
        cout << sparse[i][0] << " " << sparse[i][1] << " " << sparse[i][2] << "\n";
    }
    cout << "\nAverage marks per student:\n";
    for (int i = 0; i < students; i++) {
        double sum = 0;
        int count = 0;
        for (int j = 0; j < courses; j++) {
            if (marks[i][j] != 0) {
                sum += marks[i][j];
                count++;
            }
        }
        double avg = (count > 0) ? sum / count : 0;
        cout << "Student " << (i + 1) << ": " << avg << "\n";
    }
    cout << "\nAverage marks per course:\n";
    for (int j = 0; j < courses; j++) {
        double sum = 0;
        int count = 0;
        for (int i = 0; i < students; i++) {
            if (marks[i][j] != 0) {
                sum += marks[i][j];
                count++;
            }
        }
        double avg = (count > 0) ? sum / count : 0;
        cout << "Course " << (j + 1) << ": " << avg << "\n";
    }
    return 0;
}
